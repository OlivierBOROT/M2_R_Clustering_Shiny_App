% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/03_modalities_clusterer.R
\name{ModalitiesDiceClusterer-class}
\alias{ModalitiesDiceClusterer-class}
\alias{ModalitiesDiceClusterer}
\title{Modalities Dice Clusterer}
\value{
An R6 object (modalities clusterer). Most methods return \code{invisible(self)}
to allow chaining. \code{summary()} returns a list with \code{group_centers}, \code{inertia},
\code{modality_contribution} and \code{modality_relcontrib} (and is printed for convenience).
}
\description{
Comprehensive R6 class for clustering variable modalities using a Dice-style
dissimilarity computed on a disjunctive (one-hot) representation of categorical
data. This implementation includes features inspired by \code{HClustVar}: automatic
discretization of numeric variables, optional Cramér's V dissimilarity, cached
group-level statistics (centers, inertia decomposition, modality contributions),
and flexible hierarchical linkage and re-cutting.
}
\details{
Each modality (variable level) is represented as a binary column in a
disjunctive matrix. Dissimilarities between modalities are computed either
using a Dice-based squared distance (default) or a Cramér's V-based measure
transformed into a squared dissimilarity. After computing the modality-by-modality
dissimilarity matrix, hierarchical clustering (\code{hclust}) is applied and
modalities are assigned to \code{n_groups} clusters. The class also computes and
caches group statistics (centers, inertia decomposition, modality contributions)
to support quick summaries and diagnostics.
}
\section{Fields}{

\describe{
\item{n_groups}{Integer. Target number of modality groups (clusters).}
\item{linkage}{Character. Linkage method passed to \code{hclust()} (e.g. \code{'ward.D2'}).}
\item{dissimilarity}{Character. Dissimilarity measure used (\code{'dice'} or \code{'cramer'}).}
\item{auto_discretize}{Logical. Whether to automatically discretize numeric variables.}
\item{n_bins}{Integer. Number of bins for discretization when \code{auto_discretize = TRUE}.}
\item{data}{data.frame. Processed input data (after discretization if applicable).}
\item{disj}{Matrix. Disjunctive (one-hot) matrix of the input data (observations x modalities).}
\item{d2}{Matrix. Squared-distance matrix between modalities (modalities x modalities).}
\item{hclust}{Object. \code{stats::hclust()} result after clustering modalities.}
\item{groups}{Integer vector. Named vector giving cluster id for each modality (names = modality labels).}
\item{fitted}{Logical. TRUE after successful \code{fit()}.}
\item{modality_counts}{Numeric vector. Frequency (counts) for each modality.}
\item{modality_relcontrib}{Numeric vector. Relative contribution of each modality to total inertia.}
\item{group_centers}{Matrix. Centroid coordinates for each cluster in MCA space.}
}
}

\section{Methods}{

\describe{
\item{initialize}{Create a new object. Main arguments: \code{n_groups}, \code{linkage},
\code{dissimilarity} (\code{'dice'} or \code{'cramer'}), \code{auto_discretize} (logical), and \code{n_bins} (integer).}
\item{fit}{Compute the disjunctive table, modality dissimilarities, run \code{hclust},
cut the tree and compute cached group statistics. Call \code{fit(data)} with a
\code{data.frame} of factor columns (categorical variables) or a mixed dataset
when \code{auto_discretize = TRUE}.}
\item{get_dice_matrix}{Return the modality distance matrix (square-rooted from \code{d2}).}
\item{cut_tree}{Re-cut the hierarchical tree to a different number of clusters and refresh caches.}
\item{get_cluster_table}{Return a \code{data.frame} with modality names, assigned cluster and frequency.}
\item{predict_illustrative}{Compute distances between modalities and an illustrative variable
(factor or single-column \code{data.frame}) and aggregate results by modality group.}
\item{measure_dissimilarity, measure_similarity}{Convenience accessors to the computed
dissimilarity / similarity matrices.}
\item{plot_dendrogram}{Plot hierarchical dendrogram with cluster rectangles.}
\item{plot_mca}{Plot modalities in 2D MCA factorial space (optionally colored by cluster).}
\item{plot_mca_illustrative}{Plot modalities and illustrative variable in MCA space.}
\item{get_mca_data}{Extract MCA coordinates as a data.frame for export/analysis.}
\item{get_cluster_data}{Extract clustering visualization data with coordinates and assignments.}
\item{get_illustrative_data}{Extract projection data for active and illustrative modalities.}
\item{get_cluster_stats}{Generate comprehensive statistics table for each cluster.}
\item{summary}{Prints a concise summary and returns cached structured statistics
(\code{group_centers}, \code{inertia}, \code{modality_contribution}, \code{modality_relcontrib}).}
}
}

\examples{
\dontrun{
df <- data.frame(A = factor(sample(c('a','b','c'), 200, TRUE)),
                 B = factor(sample(c('x','y'), 200, TRUE)),
                 C = rnorm(200))
m <- ModalitiesDiceClusterer$new(n_groups = 3, dissimilarity = 'dice', auto_discretize = TRUE)
m$fit(df)
m$plot_dendrogram()
print(m$get_cluster_table())
res <- m$summary()
}


## ------------------------------------------------
## Method `ModalitiesDiceClusterer$new`
## ------------------------------------------------

\dontrun{
# Basic initialization with defaults
clusterer <- ModalitiesDiceClusterer$new()

# Custom initialization
clusterer <- ModalitiesDiceClusterer$new(
  n_groups = 5,
  linkage = "complete",
  dissimilarity = "cramer",
  auto_discretize = FALSE
)
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$fit`
## ------------------------------------------------

\dontrun{
# Create sample categorical data
df <- data.frame(
  gender = factor(c("M", "F", "M", "F", "M")),
  region = factor(c("North", "South", "North", "West", "South"))
)

# Fit the clusterer
clusterer <- ModalitiesDiceClusterer$new(n_groups = 3)
clusterer$fit(df)

# Chain method calls
ModalitiesDiceClusterer$new()$fit(df)$plot_dendrogram()
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$get_dice_matrix`
## ------------------------------------------------

\dontrun{
# Get full distance matrix
d_matrix <- clusterer$get_dice_matrix(as_dist = FALSE)
print(d_matrix[1:3, 1:3])  # View subset

# Get dist object for use with other clustering functions
d_dist <- clusterer$get_dice_matrix(as_dist = TRUE)
hc <- hclust(d_dist, method = "complete")
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$cut_tree`
## ------------------------------------------------

\dontrun{
# Fit with initial k=3
clusterer <- ModalitiesDiceClusterer$new(n_groups = 3)
clusterer$fit(data)

# Try k=5 without re-fitting
clusterer$cut_tree(5)
clusterer$summary()  # View new clustering

# Compare different k values
for (k in 2:6) {
  clusterer$cut_tree(k)
  print(clusterer$summary()$inertia)
}
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$plot_mca`
## ------------------------------------------------

\dontrun{
clusterer$fit(data)
clusterer$plot_mca()

# Without labels for cleaner visualization
clusterer$plot_mca(show_labels = FALSE)

# Explore different dimensions
clusterer$plot_mca(dims = c(2, 3))
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$get_mca_data`
## ------------------------------------------------

\dontrun{
clusterer$fit(data)

# Get first 2 dimensions (for plotting)
coords_2d <- clusterer$get_mca_data(n_dims = 2)
head(coords_2d)

# Get all dimensions
coords_all <- clusterer$get_mca_data()

# Export to CSV
write.csv(coords_2d, "mca_coordinates.csv", row.names = FALSE)

# Find extreme modalities on first axis
coords_2d[order(abs(coords_2d$Dim1), decreasing = TRUE), ][1:5, ]
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$get_cluster_data`
## ------------------------------------------------

\dontrun{
clusterer$fit(data)

# Get clustering visualization data
cluster_data <- clusterer$get_cluster_data()
head(cluster_data)

# Analyze cluster composition
table(cluster_data$Cluster, cluster_data$Variable)

# Find modalities far from cluster centers
library(dplyr)
cluster_data \%>\%
  group_by(Cluster) \%>\%
  mutate(
    dist_from_center = sqrt((Dim1 - mean(Dim1))^2 + (Dim2 - mean(Dim2))^2)
  ) \%>\%
  arrange(desc(dist_from_center))

# Export for Tableau/PowerBI
write.csv(cluster_data, "cluster_visualization.csv", row.names = FALSE)
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$get_illustrative_data`
## ------------------------------------------------

\dontrun{
clusterer$fit(data)

# Create illustrative variable
illus_var <- factor(sample(c("Low", "High"), nrow(data), replace = TRUE))

# Get projection data
illus_data <- clusterer$get_illustrative_data(illus_var)

# View illustrative modalities only
illus_data[illus_data$Type == "Illustrative", ]

# Find which cluster each illustrative level is closest to
subset(illus_data, Type == "Illustrative", 
       select = c(Modality, ClosestCluster, DistToActive_Min))

# Compute custom distances
active <- illus_data[illus_data$Type == "Active", ]
illustrative <- illus_data[illus_data$Type == "Illustrative", ]
dist_matrix <- as.matrix(dist(rbind(
  active[, c("Dim1", "Dim2")],
  illustrative[, c("Dim1", "Dim2")]
)))
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$get_cluster_stats`
## ------------------------------------------------

\dontrun{
clusterer$fit(data)

# Get cluster statistics
stats <- clusterer$get_cluster_stats()
print(stats)

# Identify largest cluster
stats[which.max(stats$Size), ]

# Find most cohesive cluster (lowest variance)
stats[which.min(stats$WithinVariance), ]

# Compare cluster qualities
stats$QualityScore <- stats$TotalFrequency / stats$WithinVariance
stats[order(-stats$QualityScore), ]
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$plot_silhouette`
## ------------------------------------------------

\dontrun{
clusterer$fit(data)

# Basic silhouette comparison plot
clusterer$plot_silhouette()

# Test specific range of k values
clusterer$plot_silhouette(min_k = 2, max_k = 8)

# Custom styling
clusterer$plot_silhouette(
  line_color = "darkblue",
  optimal_color = "darkred"
)

# Without marking optimal
clusterer$plot_silhouette(mark_optimal = FALSE)
}

## ------------------------------------------------
## Method `ModalitiesDiceClusterer$get_silhouette_data`
## ------------------------------------------------

\dontrun{
clusterer$fit(data)

# Get silhouette data
sil_data <- clusterer$get_silhouette_data()
head(sil_data)

# Find poorly clustered modalities
sil_data[sil_data$Silhouette < 0, ]

# Summary statistics
aggregate(Silhouette ~ Cluster, data = sil_data, FUN = mean)
}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{n_groups}}{Integer. Target number of modality groups (clusters).}

\item{\code{linkage}}{Character. Linkage method for hierarchical clustering.}

\item{\code{dissimilarity}}{Character. Dissimilarity measure ('dice' or 'cramer').}

\item{\code{auto_discretize}}{Logical. Whether to auto-discretize numeric variables.}

\item{\code{n_bins}}{Integer. Number of bins for discretization.}

\item{\code{data}}{data.frame. Processed input data after discretization.}

\item{\code{disj}}{Matrix. Disjunctive (one-hot) matrix of modalities.}

\item{\code{d2}}{Matrix. Squared-distance matrix between modalities.}

\item{\code{hclust}}{Object. Hierarchical clustering result from stats::hclust().}

\item{\code{groups}}{Integer vector. Cluster assignments for each modality.}

\item{\code{fitted}}{Logical. TRUE after successful fit().}

\item{\code{modality_counts}}{Numeric vector. Frequency of each modality.}

\item{\code{modality_relcontrib}}{Numeric vector. Relative contribution to total inertia.}

\item{\code{group_centers}}{Matrix. Centroid coordinates for each cluster.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-ModalitiesDiceClusterer-new}{\code{ModalitiesDiceClusterer$new()}}
\item \href{#method-ModalitiesDiceClusterer-fit}{\code{ModalitiesDiceClusterer$fit()}}
\item \href{#method-ModalitiesDiceClusterer-get_dice_matrix}{\code{ModalitiesDiceClusterer$get_dice_matrix()}}
\item \href{#method-ModalitiesDiceClusterer-cut_tree}{\code{ModalitiesDiceClusterer$cut_tree()}}
\item \href{#method-ModalitiesDiceClusterer-get_cluster_table}{\code{ModalitiesDiceClusterer$get_cluster_table()}}
\item \href{#method-ModalitiesDiceClusterer-get_modalities}{\code{ModalitiesDiceClusterer$get_modalities()}}
\item \href{#method-ModalitiesDiceClusterer-measure_dissimilarity}{\code{ModalitiesDiceClusterer$measure_dissimilarity()}}
\item \href{#method-ModalitiesDiceClusterer-measure_similarity}{\code{ModalitiesDiceClusterer$measure_similarity()}}
\item \href{#method-ModalitiesDiceClusterer-predict_illustrative}{\code{ModalitiesDiceClusterer$predict_illustrative()}}
\item \href{#method-ModalitiesDiceClusterer-plot_dendrogram}{\code{ModalitiesDiceClusterer$plot_dendrogram()}}
\item \href{#method-ModalitiesDiceClusterer-print}{\code{ModalitiesDiceClusterer$print()}}
\item \href{#method-ModalitiesDiceClusterer-summary}{\code{ModalitiesDiceClusterer$summary()}}
\item \href{#method-ModalitiesDiceClusterer-plot_mca}{\code{ModalitiesDiceClusterer$plot_mca()}}
\item \href{#method-ModalitiesDiceClusterer-plot_mca_illustrative}{\code{ModalitiesDiceClusterer$plot_mca_illustrative()}}
\item \href{#method-ModalitiesDiceClusterer-get_mca_data}{\code{ModalitiesDiceClusterer$get_mca_data()}}
\item \href{#method-ModalitiesDiceClusterer-get_cluster_data}{\code{ModalitiesDiceClusterer$get_cluster_data()}}
\item \href{#method-ModalitiesDiceClusterer-get_illustrative_data}{\code{ModalitiesDiceClusterer$get_illustrative_data()}}
\item \href{#method-ModalitiesDiceClusterer-get_cluster_stats}{\code{ModalitiesDiceClusterer$get_cluster_stats()}}
\item \href{#method-ModalitiesDiceClusterer-plot_silhouette}{\code{ModalitiesDiceClusterer$plot_silhouette()}}
\item \href{#method-ModalitiesDiceClusterer-plot_elbow}{\code{ModalitiesDiceClusterer$plot_elbow()}}
\item \href{#method-ModalitiesDiceClusterer-get_silhouette_data}{\code{ModalitiesDiceClusterer$get_silhouette_data()}}
\item \href{#method-ModalitiesDiceClusterer-clone}{\code{ModalitiesDiceClusterer$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-new"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-new}{}}}
\subsection{Method \code{new()}}{
Create a new ModalitiesDiceClusterer
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$new(
  n_groups = 3,
  linkage = "ward.D2",
  dissimilarity = "dice",
  auto_discretize = TRUE,
  n_bins = 4
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{n_groups}}{Integer. The target number of modality clusters (groups) to form.
Must be a positive integer. Default is 3.}

\item{\code{linkage}}{Character. The agglomeration method to be used in hierarchical
clustering. Must be one of:
\itemize{
\item "ward.D2" (default): Ward's minimum variance method using squared distances
\item "single": Single linkage (nearest neighbor)
\item "complete": Complete linkage (furthest neighbor)
\item "average": Average linkage (UPGMA)
\item "ward.D": Ward's method with d instead of d²
}}

\item{\code{dissimilarity}}{Character. The dissimilarity measure between modalities.
Must be one of:
\itemize{
\item "dice" (default): Dice dissimilarity based on binary vectors
\item "cramer": Cramér's V association measure transformed to dissimilarity
}}

\item{\code{auto_discretize}}{Logical. If TRUE, numeric columns in the input data
will be automatically discretized into categorical bins before clustering.
Default is TRUE. Useful for mixed-type datasets.}

\item{\code{n_bins}}{Integer. The number of quantile-based bins to use when
discretizing numeric variables (only used if auto_discretize = TRUE).
Must be >= 2. Default is 4 (quartiles).}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
This constructor initializes a new clustering object with specified parameters.
The object is not yet fitted to data - use the \code{fit()} method after construction.
}

\subsection{Returns}{
A new ModalitiesDiceClusterer R6 object (invisible for chaining)
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Basic initialization with defaults
clusterer <- ModalitiesDiceClusterer$new()

# Custom initialization
clusterer <- ModalitiesDiceClusterer$new(
  n_groups = 5,
  linkage = "complete",
  dissimilarity = "cramer",
  auto_discretize = FALSE
)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-fit"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-fit}{}}}
\subsection{Method \code{fit()}}{
Fit the model to categorical data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$fit(data)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{data}}{A data.frame or matrix containing the data to cluster. Each column
represents a variable (feature), and each row represents an observation.
Variables should be factors or characters (categorical). If numeric variables
are present and auto_discretize = TRUE, they will be automatically binned.
Cannot be NULL or empty.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
This is the main fitting method that performs the complete clustering pipeline:
\enumerate{
\item Validates and converts input data to data.frame format
\item Optionally discretizes numeric variables into categorical bins
\item Creates a disjunctive (one-hot encoded) matrix from categorical data
\item Computes pairwise dissimilarities between all modalities
\item Performs hierarchical clustering on the dissimilarity matrix
\item Cuts the dendrogram into n_groups clusters
\item Computes and caches group statistics (inertia, contributions, etc.)
}

The disjunctive matrix represents each modality (factor level) as a binary column,
where 1 indicates the modality is present for that observation and 0 indicates absence.
For example, a factor variable "color" with levels \{red, blue, green\} becomes
three binary columns: color.red, color.blue, color.green.
}

\subsection{Returns}{
The fitted ModalitiesDiceClusterer object (invisible for chaining).
The object's fields are updated with clustering results:
\itemize{
\item data: Processed data (after discretization if applicable)
\item disj: Disjunctive matrix (observations × modalities)
\item d2: Squared dissimilarity matrix (modalities × modalities)
\item hclust: Hierarchical clustering result
\item groups: Cluster assignments for each modality
\item modality_counts: Frequency of each modality
\item fitted: Set to TRUE
}
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Create sample categorical data
df <- data.frame(
  gender = factor(c("M", "F", "M", "F", "M")),
  region = factor(c("North", "South", "North", "West", "South"))
)

# Fit the clusterer
clusterer <- ModalitiesDiceClusterer$new(n_groups = 3)
clusterer$fit(df)

# Chain method calls
ModalitiesDiceClusterer$new()$fit(df)$plot_dendrogram()
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_dice_matrix"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_dice_matrix}{}}}
\subsection{Method \code{get_dice_matrix()}}{
Return the Dice distance matrix between modalities
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_dice_matrix(as_dist = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{as_dist}}{Logical. If TRUE, returns a dist object (lower triangle only).
If FALSE (default), returns a full symmetric matrix. The dist format is
useful for compatibility with clustering functions, while the matrix format
is easier for inspection and custom analyses.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Extracts the dissimilarity matrix computed during the fit() process.
The matrix contains pairwise distances between all modalities (factor levels).
Distances are computed using either Dice dissimilarity or Cramér's V,
depending on the dissimilarity parameter set during initialization.

The returned matrix is symmetric with zeros on the diagonal (each modality
has zero distance to itself). The values represent how dissimilar two
modalities are in terms of their co-occurrence patterns across observations.
}

\subsection{Returns}{
Either a numeric matrix (modalities × modalities) or a dist object,
depending on the as_dist parameter. Matrix elements represent dissimilarities:
smaller values indicate more similar modalities.
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Get full distance matrix
d_matrix <- clusterer$get_dice_matrix(as_dist = FALSE)
print(d_matrix[1:3, 1:3])  # View subset

# Get dist object for use with other clustering functions
d_dist <- clusterer$get_dice_matrix(as_dist = TRUE)
hc <- hclust(d_dist, method = "complete")
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-cut_tree"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-cut_tree}{}}}
\subsection{Method \code{cut_tree()}}{
Cut the hierarchical tree into a different number of clusters
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$cut_tree(k)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{k}}{Integer. The new number of clusters to form. Must be a positive
integer and should be less than or equal to the number of modalities.
Typical values range from 2 to 10 depending on the application.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Re-partitions the modalities into k groups by cutting the dendrogram at a
different level, without re-computing distances or re-running the clustering.
This is much faster than calling fit() again with a different n_groups.

After cutting, all cached statistics (inertia decomposition, group centers,
modality contributions) are automatically recomputed for the new grouping.
The original hierarchical tree structure remains unchanged.

This method is useful for exploring different numbers of clusters to find
the optimal balance between interpretability and cluster quality.
}

\subsection{Returns}{
The ModalitiesDiceClusterer object (invisible for chaining).
The following fields are updated:
\itemize{
\item groups: New cluster assignments for each modality
\item n_groups: Updated to the new k value
\item Cached statistics: Recomputed for new grouping
}
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Fit with initial k=3
clusterer <- ModalitiesDiceClusterer$new(n_groups = 3)
clusterer$fit(data)

# Try k=5 without re-fitting
clusterer$cut_tree(5)
clusterer$summary()  # View new clustering

# Compare different k values
for (k in 2:6) {
  clusterer$cut_tree(k)
  print(clusterer$summary()$inertia)
}
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_cluster_table"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_cluster_table}{}}}
\subsection{Method \code{get_cluster_table()}}{
Return a data.frame with modality, cluster and frequency
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_cluster_table()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_modalities"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_modalities}{}}}
\subsection{Method \code{get_modalities()}}{
Return modality names
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_modalities()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-measure_dissimilarity"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-measure_dissimilarity}{}}}
\subsection{Method \code{measure_dissimilarity()}}{
Return dissimilarity matrix between modalities (Dice)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$measure_dissimilarity(as_dist = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{as_dist}}{Logical. If TRUE, returns a dist object; otherwise returns a matrix.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-measure_similarity"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-measure_similarity}{}}}
\subsection{Method \code{measure_similarity()}}{
Return similarity matrix derived from dissimilarity
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$measure_similarity(normalize = TRUE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{normalize}}{Logical. If TRUE, normalizes similarity to [0,1] range.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-predict_illustrative"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-predict_illustrative}{}}}
\subsection{Method \code{predict_illustrative()}}{
Compute distances from modalities to an illustrative variable
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$predict_illustrative(illus)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{illus}}{factor or one-column data.frame representing illustrative variable.
Must have same length as the original fitted data.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Projects an illustrative (supplementary) variable into the modality space
and computes distances to existing modality clusters. This helps understand:
\itemize{
\item Which clusters are most similar to the illustrative variable
\item How the illustrative variable would cluster with active variables
\item Strength of association between illustrative and active modalities
}

The assignment depends on the linkage method used for clustering:
\itemize{
\item "single": Minimum distance to any modality in the cluster
\item "complete": Maximum distance to any modality in the cluster
\item "average": Average distance to modalities in the cluster
\item "ward.D2" (default): Weighted average distance (centroid-like)
}
}

\subsection{Returns}{
list with \code{distances} (matrix: modalities × illustrative levels),
\code{by_group} (matrix: clusters × illustrative levels), and \code{assignment}
(vector: which cluster each illustrative level is closest to)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-plot_dendrogram"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-plot_dendrogram}{}}}
\subsection{Method \code{plot_dendrogram()}}{
Plot dendrogram of modalities
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$plot_dendrogram()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-print"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-print}{}}}
\subsection{Method \code{print()}}{
Print method for ModalitiesDiceClusterer
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$print()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-summary"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-summary}{}}}
\subsection{Method \code{summary()}}{
Generate comprehensive clustering summary
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$summary()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-plot_mca"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-plot_mca}{}}}
\subsection{Method \code{plot_mca()}}{
Plot modalities in 2D MCA space


Plot modalities in MCA space (optionally colored by cluster)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$plot_mca(
  dims = c(1, 2),
  color_by_cluster = TRUE,
  point_size = 3,
  label_size = 3,
  show_labels = TRUE,
  add_ellipses = TRUE,
  colors = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{dims}}{Integer vector of length 2. Which factorial dimensions to plot.
Default is c(1, 2) for the first two dimensions (explaining most variance).
Can be changed to explore other dimension pairs, e.g., c(1, 3) or c(2, 3).}

\item{\code{color_by_cluster}}{Logical. If TRUE, colors points by cluster assignment.}

\item{\code{point_size}}{Numeric. Size of the points. Default is 3.}

\item{\code{label_size}}{Numeric. Size of the modality labels. Default is 3.}

\item{\code{show_labels}}{Logical. If TRUE (default), displays modality names next
to points. Set to FALSE for cleaner plots with many modalities.}

\item{\code{add_ellipses}}{Logical. If TRUE, draws confidence ellipses around clusters.}

\item{\code{colors}}{Character vector. Custom colors for clusters (optional).}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Performs Multiple Correspondence Analysis (MCA) on the disjunctive matrix
to project modalities into a 2-dimensional space that preserves their
dissimilarity structure. The first two factorial dimensions (those explaining
the most variance) are used for visualization.

This plot helps visualize:
\itemize{
\item Spatial relationships between modalities
\item Overall structure and patterns in the data
\item Distance between modalities (closer = more similar)
\item Quality of the 2D representation (via explained variance)
}
}

\subsection{Returns}{
The ModalitiesDiceClusterer object (invisible for chaining).
A plot is displayed showing modalities as points in 2D MCA space.
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
clusterer$fit(data)
clusterer$plot_mca()

# Without labels for cleaner visualization
clusterer$plot_mca(show_labels = FALSE)

# Explore different dimensions
clusterer$plot_mca(dims = c(2, 3))
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-plot_mca_illustrative"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-plot_mca_illustrative}{}}}
\subsection{Method \code{plot_mca_illustrative()}}{
Plot MCA with illustrative variable projection
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$plot_mca_illustrative(
  illus,
  dims = c(1, 2),
  point_size = 3,
  label_size = 3,
  show_labels = TRUE
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{illus}}{Factor or data.frame. Illustrative variable to project.}

\item{\code{dims}}{Integer vector of length 2. Dimensions to plot (default c(1,2)).}

\item{\code{point_size}}{Numeric. Size of points (default 3).}

\item{\code{label_size}}{Numeric. Size of labels (default 3).}

\item{\code{show_labels}}{Logical. Whether to show modality labels (default TRUE).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_mca_data"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_mca_data}{}}}
\subsection{Method \code{get_mca_data()}}{
Get MCA coordinates as a data.frame
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_mca_data(n_dims = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{n_dims}}{Integer. Number of dimensions to return. If NULL (default),
returns all available dimensions. Common choices are 2 (for plotting),
5-10 (for analysis), or NULL (for complete data).}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Extracts the factorial coordinates from the MCA projection that are used
in the plot_mca() visualization. This allows you to:
\itemize{
\item Export the projection data for custom visualizations
\item Perform additional statistical analyses on the coordinates
\item Identify modalities with extreme coordinates
\item Create custom tables and reports
}

Each row represents one modality, and columns represent factorial dimensions.
The number of dimensions returned matches the number of modalities minus 1
(theoretical maximum for MCA).
}

\subsection{Returns}{
A data.frame with the following columns:
\itemize{
\item Modality: Character. Name of the modality (e.g., "var1.A")
\item Dim1, Dim2, ..., DimN: Numeric. Factorial coordinates
\item Variable: Character. Source variable name (extracted from modality)
\item Level: Character. Factor level (extracted from modality)
}
Rows are ordered by modality name for consistency.
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
clusterer$fit(data)

# Get first 2 dimensions (for plotting)
coords_2d <- clusterer$get_mca_data(n_dims = 2)
head(coords_2d)

# Get all dimensions
coords_all <- clusterer$get_mca_data()

# Export to CSV
write.csv(coords_2d, "mca_coordinates.csv", row.names = FALSE)

# Find extreme modalities on first axis
coords_2d[order(abs(coords_2d$Dim1), decreasing = TRUE), ][1:5, ]
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_cluster_data"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_cluster_data}{}}}
\subsection{Method \code{get_cluster_data()}}{
Get cluster visualization data as a data.frame
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_cluster_data(n_dims = 2)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{n_dims}}{Integer. Number of MCA dimensions to include. Default is 2
(matching the typical 2D visualization). Can be increased to include
more dimensions for analysis.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Extracts the complete data behind the plot_mca() visualization (when colored by cluster),
including MCA coordinates, cluster assignments, and variance explained.
This combines information from multiple sources:
\itemize{
\item MCA factorial coordinates
\item Cluster assignments from hierarchical clustering
\item Modality frequencies
\item Variance explained by each dimension
}
}

\subsection{Returns}{
A data.frame with the following columns:
\itemize{
\item Modality: Character. Modality name
\item Variable: Character. Source variable
\item Level: Character. Factor level
\item Cluster: Integer. Assigned cluster ID (1 to n_groups)
\item Frequency: Integer. Number of observations with this modality
\item Dim1, Dim2, ...: Numeric. MCA coordinates
\item VarExplained_Dim1, VarExplained_Dim2, ...: Numeric. \% variance
explained by each dimension (repeated for each row)
}
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
clusterer$fit(data)

# Get clustering visualization data
cluster_data <- clusterer$get_cluster_data()
head(cluster_data)

# Analyze cluster composition
table(cluster_data$Cluster, cluster_data$Variable)

# Find modalities far from cluster centers
library(dplyr)
cluster_data \%>\%
  group_by(Cluster) \%>\%
  mutate(
    dist_from_center = sqrt((Dim1 - mean(Dim1))^2 + (Dim2 - mean(Dim2))^2)
  ) \%>\%
  arrange(desc(dist_from_center))

# Export for Tableau/PowerBI
write.csv(cluster_data, "cluster_visualization.csv", row.names = FALSE)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_illustrative_data"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_illustrative_data}{}}}
\subsection{Method \code{get_illustrative_data()}}{
Get illustrative variable projection data as a data.frame
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_illustrative_data(illus, n_dims = 2)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{illus}}{Factor or one-column data.frame. The illustrative variable
to project. Must have the same length as the fitted data.}

\item{\code{n_dims}}{Integer. Number of MCA dimensions to include. Default is 2.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Extracts the complete data behind the plot_mca_illustrative() visualization,
including both active (clustered) modalities and illustrative (supplementary)
modalities projected into the same MCA space.

This method is useful for:
\itemize{
\item Comparing illustrative variables to existing clusters
\item Computing custom distance metrics
\item Creating overlay visualizations
\item Generating detailed reports
}
}

\subsection{Returns}{
A data.frame with the following columns:
\itemize{
\item Modality: Character. Modality name
\item Type: Character. Either "Active" (original clustered modalities)
or "Illustrative" (supplementary variable)
\item Variable: Character. Source variable name
\item Level: Character. Factor level
\item Cluster: Integer. Cluster ID (NA for illustrative modalities)
\item Frequency: Integer. Observation count (for active modalities only)
\item Dim1, Dim2, ...: Numeric. MCA coordinates
\item DistToActive_Min: Numeric. Minimum distance to any active modality
(only for illustrative)
\item ClosestCluster: Integer. ID of nearest cluster (only for illustrative)
}
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
clusterer$fit(data)

# Create illustrative variable
illus_var <- factor(sample(c("Low", "High"), nrow(data), replace = TRUE))

# Get projection data
illus_data <- clusterer$get_illustrative_data(illus_var)

# View illustrative modalities only
illus_data[illus_data$Type == "Illustrative", ]

# Find which cluster each illustrative level is closest to
subset(illus_data, Type == "Illustrative", 
       select = c(Modality, ClosestCluster, DistToActive_Min))

# Compute custom distances
active <- illus_data[illus_data$Type == "Active", ]
illustrative <- illus_data[illus_data$Type == "Illustrative", ]
dist_matrix <- as.matrix(dist(rbind(
  active[, c("Dim1", "Dim2")],
  illustrative[, c("Dim1", "Dim2")]
)))
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_cluster_stats"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_cluster_stats}{}}}
\subsection{Method \code{get_cluster_stats()}}{
Get cluster statistics table
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_cluster_stats(n_dims = 2)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{n_dims}}{Integer. Number of MCA dimensions to include in centroid
coordinates. Default is 2.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Generates a comprehensive summary table for each cluster, including:
\itemize{
\item Cluster size (number of modalities)
\item Total frequency (sum of modality frequencies)
\item Average frequency per modality
\item Coordinates of cluster centroid in MCA space
\item Within-cluster variance
\item List of modalities in the cluster
}

This table is useful for:
\itemize{
\item Cluster interpretation and labeling
\item Quality assessment (balanced sizes, low variance)
\item Reporting and documentation
\item Comparing different clustering solutions
}
}

\subsection{Returns}{
A data.frame with one row per cluster and the following columns:
\itemize{
\item Cluster: Integer. Cluster ID
\item Size: Integer. Number of modalities in cluster
\item TotalFrequency: Integer. Sum of frequencies of all modalities
\item AvgFrequency: Numeric. Mean frequency per modality
\item Centroid_Dim1, Centroid_Dim2, ...: Numeric. Cluster center coordinates
\item WithinVariance: Numeric. Average squared distance from centroid
\item Modalities: Character. Comma-separated list of modality names
}
Rows are ordered by cluster ID.
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
clusterer$fit(data)

# Get cluster statistics
stats <- clusterer$get_cluster_stats()
print(stats)

# Identify largest cluster
stats[which.max(stats$Size), ]

# Find most cohesive cluster (lowest variance)
stats[which.min(stats$WithinVariance), ]

# Compare cluster qualities
stats$QualityScore <- stats$TotalFrequency / stats$WithinVariance
stats[order(-stats$QualityScore), ]
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-plot_silhouette"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-plot_silhouette}{}}}
\subsection{Method \code{plot_silhouette()}}{
Plot average silhouette scores across different k values (elbow plot)


Plot Average Silhouette vs K (to find optimal k)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$plot_silhouette(min_k = 2, max_k = 10)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{min_k}}{Integer. Minimum number of clusters to test. Default is 2.
Must be >= 2.}

\item{\code{max_k}}{Integer. Maximum number of clusters to test. Default is 10.
If NULL, uses the number of modalities minus 1.}

\item{\code{line_color}}{Character. Color for the main line. Default is "steelblue".}

\item{\code{point_color}}{Character. Color for the points. Default is "steelblue".}

\item{\code{optimal_color}}{Character. Color for highlighting optimal k. Default is "red".}

\item{\code{mark_optimal}}{Logical. If TRUE (default), marks the optimal k with
a larger red point and vertical line.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Computes and visualizes average silhouette coefficients for different numbers
of clusters (k) to help identify the optimal clustering solution. This creates
an "elbow plot" using silhouette scores as the quality metric.

The silhouette coefficient measures how similar a modality is to its own cluster
compared to other clusters. Values range from -1 to 1, with higher values
indicating better clustering quality.

The plot displays:
\itemize{
\item A line/curve showing average silhouette vs. number of clusters
\item Points marking each k value tested
\item The optimal k (highest silhouette) highlighted in red
\item Grid lines for easier reading
}

Use this plot to:
\itemize{
\item Identify the optimal number of clusters
\item Compare clustering quality across different k values
\item Detect when adding more clusters stops improving quality
}
}

\subsection{Returns}{
The ModalitiesDiceClusterer object (invisible for chaining).
A plot is displayed showing average silhouette scores across k values.
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
clusterer$fit(data)

# Basic silhouette comparison plot
clusterer$plot_silhouette()

# Test specific range of k values
clusterer$plot_silhouette(min_k = 2, max_k = 8)

# Custom styling
clusterer$plot_silhouette(
  line_color = "darkblue",
  optimal_color = "darkred"
)

# Without marking optimal
clusterer$plot_silhouette(mark_optimal = FALSE)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-plot_elbow"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-plot_elbow}{}}}
\subsection{Method \code{plot_elbow()}}{
Plot Within-Inertia vs K (Elbow Method)
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$plot_elbow(min_k = 1, max_k = 10)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{min_k}}{Integer. Minimum number of clusters to test (default 1).}

\item{\code{max_k}}{Integer. Maximum number of clusters to test (default 10).}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-get_silhouette_data"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-get_silhouette_data}{}}}
\subsection{Method \code{get_silhouette_data()}}{
Get silhouette data as a data.frame
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$get_silhouette_data()}\if{html}{\out{</div>}}
}

\subsection{Details}{
Computes and returns silhouette coefficients for all modalities.
The silhouette coefficient for modality i is:
s(i) = (b(i) - a(i)) / max(a(i), b(i))
where:
\itemize{
\item a(i) = average distance to modalities in the same cluster
\item b(i) = minimum average distance to modalities in other clusters
}
}

\subsection{Returns}{
A data.frame with the following columns:
\itemize{
\item Modality: Character. Modality name
\item Cluster: Integer. Assigned cluster ID
\item Silhouette: Numeric. Silhouette coefficient (-1 to 1)
\item AvgDistWithin: Numeric. Average distance within cluster (a(i))
\item MinAvgDistOther: Numeric. Min average distance to other clusters (b(i))
\item NearestCluster: Integer. ID of nearest other cluster
}
Rows are sorted by cluster and silhouette coefficient (descending).
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
clusterer$fit(data)

# Get silhouette data
sil_data <- clusterer$get_silhouette_data()
head(sil_data)

# Find poorly clustered modalities
sil_data[sil_data$Silhouette < 0, ]

# Summary statistics
aggregate(Silhouette ~ Cluster, data = sil_data, FUN = mean)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ModalitiesDiceClusterer-clone"></a>}}
\if{latex}{\out{\hypertarget{method-ModalitiesDiceClusterer-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ModalitiesDiceClusterer$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
